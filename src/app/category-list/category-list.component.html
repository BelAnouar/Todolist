<div class="container mx-auto p-4">
  <h2 class="text-2xl font-bold mb-4">Categories</h2>
  <ul class="space-y-4">
    <li *ngFor="let category of (categories$ | async)" class="bg-white p-4 rounded shadow">
      <div *ngIf="editingCategory?.id !== category.id; else editForm" class="flex justify-between items-center">
        <span class="text-lg">{{ category.name }}</span>
        <div>
          <button (click)="startEditing(category)" class="text-blue-500 hover:text-blue-700 mr-2">
            Edit
          </button>
          <button (click)="deleteCategory(category.id)" class="text-red-500 hover:text-red-700">
            Delete
          </button>
        </div>
      </div>
      <ng-template #editForm>
        <app-categories
          [category]="editingCategory"
          (save)="saveCategory($event)"
          (cancel)="cancelEditing()"
        ></app-categories>
      </ng-template>
    </li>
  </ul>
  <div class="mt-4">
    <h3 class="text-xl font-semibold mb-2">Add New Category</h3>
    <app-categories (save)="saveCategory($event)"></app-categories>
  </div>
</div>

